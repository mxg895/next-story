{"version":3,"sources":["constants/dataTypes.ts","containers/Container/index.tsx","actions/singleSearchPageFilterActions.ts","components/TagButton/index.tsx","components/TagsSection/index.tsx","actions/reviewRatingActions.ts","components/StarRater/index.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","components/MediaModal/index.tsx","components/MediaCard/index.tsx","../node_modules/regenerator-runtime/runtime.js","../node_modules/@material-ui/icons/AccountBox.js","../node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js","../node_modules/@material-ui/icons/InsertPhoto.js","../node_modules/@material-ui/icons/ArrowRight.js","../node_modules/@material-ui/core/esm/internal/svg-icons/Person.js","../node_modules/@material-ui/core/esm/Avatar/Avatar.js","components/ProfilePhotoDisplay/index.tsx","components/EditProfileModal/index.tsx","actions/profileActions.ts","components/DeleteAccountModal/index.tsx","components/UserInfo/index.tsx","components/SearchBar/index.tsx","components/Select/index.tsx","components/RegWidthCarousel/index.tsx","containers/Profile/RightSection.tsx","actions/booksMoviesActions.ts","containers/Profile/index.tsx"],"names":["MediaType","SingleQueryType","StyledContainer","styled","Container","MarginContainer","props","maxWidth","children","changeSingleSearchPageFilter","filterName","type","CHANGE_SINGLE_SEARCH_PAGE_FILTER","StyledTagButton","button","theme","palette","primary","light","secondary","connect","label","tagId","singleQueryType","history","useHistory","encodedSubject","encodeURIComponent","onClick","queryType","bookPerson","BOOKS","moviePerson","MOVIES","tag","genre","searchBar","ALL","changeQueryFilter","push","StyledTagsSection","div","TagsSection","tags","tagObjects","map","index","key","tagObject","tagName","loadAllReviewsAction","reviewsArray","LOAD_REVIEWS_FROM_DB","addReviewAction","reviewObject","ADD_REVIEW","text","userId","userName","datePosted","deleteReviewAction","DELETE_REVIEW","editReviewAction","EDIT_REVIEW","changeRatingAction","CHANGE_RATING","rating","StyledIconButton","IconButton","VerticallyCenteredDiv","host","window","location","protocol","useState","ratedStar","setStar","readonly","readOnlyRating","hideReadOnlyLabel","userRating","twoDecimalRatingString","clickStar","starIndex","ratingToSet","userHasReviewText","axios","put","mediaId","mediaType","then","res","catch","err","delete","changeRating","toFixed","useEffect","display","Array","star","split","wholeNumberString","decimalString","wholeNumber","parseInt","decimalTimes100","style","fill","fontSize","closestFifty","Math","round","getIcon","size","ml","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined","StyledButton","Button","grey","StyledCloseIcon","CloseIcon","StyledDialogTitle","DialogTitle","main","StyledImage","img","StyledDialogActions","DialogActions","MediaModal","isOpen","modalData","setModalOpen","storyTags","setStoryTags","averageRating","setAverageRating","isSmall","useMediaQuery","isShort","id","mediaRouteType","book","get","mediaRes","mediaData","data","nextStoryTags","averageRatingData","average","Dialog","scroll","open","onClose","fullScreen","disableTypography","DialogContent","Grid","container","direction","spacing","item","sm","width","Box","justifyContent","alignItems","src","image","Typography","variant","gutterBottom","title","movie","StarRater","genres","length","content","blurb","boxShadow","endIcon","goToPage","CardContainer","Card","MediaImage","MediaCard","cardData","isMediaModalOpen","setMediaModalOpen","elevation","runtime","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","unwrapped","TypeError","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","constructor","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","_interopRequireDefault","require","default","_react","_default","createElement","d","FormControlLabel","React","ref","checked","classes","className","control","disabledProp","disabled","inputRef","_props$labelPlacement","labelPlacement","other","onChange","_objectWithoutProperties","muiFormControl","useFormControl","controlProps","_extends","clsx","root","concat","capitalize","component","withStyles","cursor","verticalAlign","WebkitTapHighlightColor","marginLeft","marginRight","labelPlacementStart","flexDirection","labelPlacementTop","labelPlacementBottom","color","createSvgIcon","Avatar","alt","childrenProp","_props$component","Component","imgProps","sizes","srcSet","_props$variant","loaded","_ref","_React$useState","setLoaded","active","Image","onload","onerror","useLoaded","hasImg","hasImgNotFailing","Person","fallback","system","colorDefault","position","flexShrink","height","fontFamily","typography","pxToRem","lineHeight","borderRadius","overflow","userSelect","background","backgroundColor","circle","rounded","shape","square","textAlign","objectFit","textIndent","StyledAvatar","ProfilePicPlaceholder","AccountBoxIcon","ProfilePhotoDisplay","avatar","StyledContrastText","CloseButton","PhotoContainer","InputLabel","HiddenFileInput","input","aboutMe","profile","message","photo","_id","dispatch","updateProfile","updatedData","UPDATE_PROFILE","handleClose","aboutMeText","setAboutMeText","avatarSrc","setAvatarSrc","fileError","setFileError","closeModal","handleCancelChange","handlePhotoChange","e","a","file","target","files","reader","FileReader","inputImg","canvas","document","inputImgWidth","naturalWidth","inputImgHeight","naturalHeight","drawWidth","drawHeight","dx","dy","ctx","getContext","drawImage","dataurl","toDataURL","parseFloat","readAsDataURL","handleSubmit","preventDefault","response","dividers","onSubmit","accept","htmlFor","startIcon","OutlinedInput","multiline","rows","handleDeleteAccount","ok","sessionStorage","clear","go","UserInfoContainer","StyledSectionHeader","ActionDiv","UserInfo","about","email","booksCount","moviesCount","editProfile","deleteAccount","modalOpen","align","GridContainer","StyledInput","StyledGrid","StyledDiv","SearchBar","placeholder","Select","native","StyledCarousel","Carousel","SearchSelect","xs","bookIds","movieIds","withSearchSelect","bMSource","updateMethod","sessionDataString","getItem","JSON","parse","start","people","avgRating","setMediaData","finalData","includes","favoriteMoviesDetails","favoriteBooksDetails","watchLaterDetails","readLaterDetails","booksReadDetails","moviesWatchedDetails","mediaCards","cards","additionalTransfrom","arrows","autoPlaySpeed","draggable","infinite","keyBoardControl","minimumTouchDrag","slidesToSlide","swipeable","centerMode","removeArrowOnDeviceType","responsive","xl","breakpoint","max","min","items","partialVisibilityGutter","lg","md","xmd","SubSectionContainer","setFavorites","booksMoviesData","booksMovies","UPDATE_FAVORITES","setLater","UPDATE_LATER_LIST","favoriteAuthors","favoriteBooks","favoriteDirectors","favoriteGenres","favoriteMovies","favoriteNextStoryTags","readLater","watchLater","setProfile","SET_PROFILE","booksRead","moviesWatched","rest","largeScreen","sessionLogIn","Axios"],"mappings":"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","file":"static/js/11.efa42929.chunk.js","sourcesContent":["export enum MediaType {\r\n    movie = 'movie',\r\n    book = 'book',\r\n    start = ''\r\n}\r\n\r\nexport enum SingleQueryType {\r\n    bookPerson = 'bookPerson',\r\n    moviePerson = 'moviePerson',\r\n    genre = 'genre',\r\n    tag = 'tag',\r\n    searchBar = 'searchBar'\r\n}\r\n\r\nexport type CardData = {\r\n    title: string,\r\n    id: string,\r\n    mediaType: MediaType,\r\n    image: string, // the url, etc to the image\r\n    genres: string[],\r\n    nextStoryTags: string[],\r\n    people: string,\r\n    blurb: string,\r\n    avgRating: number\r\n}\r\n\r\nexport interface Tag{\r\n  tagId: string;\r\n  tagName: string;\r\n}\r\n","import React from 'react';\r\nimport Container, { ContainerProps } from '@material-ui/core/Container';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledContainer = styled(Container)`\r\n    margin-top: 85px;\r\n    margin-bottom: 85px;\r\n`;\r\n\r\ninterface MarginContainerProps extends ContainerProps {\r\n    maxWidth: 'lg'\r\n        | 'md'\r\n        | 'sm'\r\n        | 'xl'\r\n        | 'xs'\r\n        | false;\r\n}\r\n\r\nconst MarginContainer: React.FC<MarginContainerProps> = (props: MarginContainerProps) => {\r\n    return (\r\n        <StyledContainer maxWidth={props.maxWidth}>{props.children}</StyledContainer>\r\n    );\r\n};\r\n\r\nexport default MarginContainer;\r\n","import {\r\n    CHANGE_SINGLE_SEARCH_PAGE_FILTER\r\n} from '../constants/singleSearchPageFilterConstants';\r\n\r\nexport const changeSingleSearchPageFilter = (filterName: string) => {\r\n    return {\r\n        type: CHANGE_SINGLE_SEARCH_PAGE_FILTER,\r\n        filterName: filterName\r\n    };\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {useHistory} from 'react-router';\r\nimport {SingleQueryType} from '../../constants/dataTypes';\r\nimport {ALL, BOOKS, MOVIES} from '../../constants/homePageFilterConstants';\r\nimport {connect} from 'react-redux';\r\nimport {changeSingleSearchPageFilter} from '../../actions/singleSearchPageFilterActions';\r\n\r\ninterface TagsButtonProps {\r\n    label: string;\r\n    singleQueryType: SingleQueryType;\r\n    tagId?: string; // needed for if the tag button is being used for nextStoryTags\r\n}\r\n\r\nconst StyledTagButton = styled.button`\r\n    border-radius: 7px;\r\n    color: white;\r\n    outline: none;\r\n    border: none;\r\n    margin: 5px;\r\n    cursor: pointer;\r\n    background-color: ${({ theme }) => theme.palette.primary.light};\r\n    &:hover {\r\n        background-color: ${({ theme }) => theme.palette.secondary.light};\r\n    }\r\n    font-size: 16px;\r\n    padding: 3px 5px 3px 5px;\r\n`;\r\n\r\nconst changeQueryFilter = (props: any, queryType: SingleQueryType) => {\r\n    switch (queryType) {\r\n        case SingleQueryType.bookPerson:\r\n            props.changeSingleSearchPageFilter(BOOKS);\r\n            break;\r\n        case SingleQueryType.moviePerson:\r\n            props.changeSingleSearchPageFilter(MOVIES);\r\n            break;\r\n        case SingleQueryType.tag:\r\n        case SingleQueryType.genre:\r\n        case SingleQueryType.searchBar:\r\n        default:\r\n            props.changeSingleSearchPageFilter(ALL);\r\n            break;\r\n    }\r\n};\r\n\r\nconst TagButton: React.FC<TagsButtonProps> = (props: TagsButtonProps) => {\r\n    const { label, tagId, singleQueryType } = props;\r\n    const history = useHistory();\r\n\r\n    const encodedSubject = encodeURIComponent(tagId || label);\r\n    const goToSingleQuery = () => {\r\n        changeQueryFilter(props, singleQueryType);\r\n        history.push(`/searchResult/param?singleQueryType=${singleQueryType}&query=${encodedSubject}`);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {label &&\r\n                <StyledTagButton\r\n                    onClick={goToSingleQuery}\r\n                >\r\n                    {label}\r\n                </StyledTagButton>\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default connect(null, {changeSingleSearchPageFilter})(TagButton);\r\n","import React from 'react';\r\nimport TagButton from '../TagButton';\r\nimport styled from 'styled-components';\r\nimport {SingleQueryType} from '../../constants/dataTypes';\r\n\r\ninterface TagsSectionProps {\r\n    singleQueryType: SingleQueryType;\r\n    tags?: string[],\r\n    tagObjects?: Array<{ tagId: string, tagName: string }>\r\n}\r\n\r\nconst StyledTagsSection = styled.div`\r\n    margin-bottom: 15px;\r\n`;\r\n\r\nconst TagsSection: React.FC<TagsSectionProps> = (props: TagsSectionProps) => {\r\n    const { singleQueryType, tags, tagObjects } = props;\r\n    return (\r\n        <StyledTagsSection>\r\n            { tags && tags.map((tag, index) => {\r\n                return (\r\n                    <TagButton\r\n                        key={index}\r\n                        label={tag}\r\n                        singleQueryType={singleQueryType}\r\n                    />);\r\n            }) }\r\n            { !tags && tagObjects && tagObjects.map((tagObject, index) => {\r\n                return (\r\n                    <TagButton\r\n                        key={index}\r\n                        label={tagObject.tagName}\r\n                        singleQueryType={singleQueryType}\r\n                        tagId={tagObject.tagId}\r\n                    />);\r\n            }) }\r\n        </StyledTagsSection>\r\n    );\r\n};\r\n\r\nexport default TagsSection;\r\n","import {\r\n    ADD_REVIEW, CHANGE_RATING,\r\n    DELETE_REVIEW,\r\n    EDIT_REVIEW,\r\n    LOAD_REVIEWS_FROM_DB,\r\n} from '../constants/reviewRatingConstants';\r\n\r\nexport interface ReviewObjectType {\r\n    text: string,\r\n    userId: string,\r\n    userName: string,\r\n    datePosted: string,\r\n    rating?: number | undefined\r\n}\r\n\r\nexport const loadAllReviewsAction = (reviewsArray: any[]) => {\r\n    return {\r\n        type: LOAD_REVIEWS_FROM_DB,\r\n        reviewsArray: reviewsArray\r\n    };\r\n};\r\n\r\nexport const addReviewAction = (reviewObject: ReviewObjectType) => {\r\n    return {\r\n        type: ADD_REVIEW,\r\n        text: reviewObject.text,\r\n        userId: reviewObject.userId,\r\n        userName: reviewObject.userName,\r\n        datePosted: reviewObject.datePosted\r\n    };\r\n};\r\n\r\nexport const deleteReviewAction = (userId: string) => {\r\n    return {\r\n        type: DELETE_REVIEW,\r\n        userId: userId\r\n    };\r\n};\r\n\r\nexport const editReviewAction = (reviewObject: ReviewObjectType) => {\r\n    return {\r\n        type: EDIT_REVIEW,\r\n        text: reviewObject.text,\r\n        userId: reviewObject.userId,\r\n        userName: reviewObject.userName,\r\n        datePosted: reviewObject.datePosted\r\n    };\r\n};\r\n\r\n\r\nexport const changeRatingAction = (reviewObject: { userId: string, userName: string, rating: number | undefined }) => {\r\n    return {\r\n        type: CHANGE_RATING,\r\n        userId: reviewObject.userId,\r\n        userName: reviewObject.userName,\r\n        rating: reviewObject.rating\r\n    };\r\n};","import React, {useEffect, useState} from 'react';\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\r\nimport {Box, IconButton} from '@material-ui/core';\r\nimport StarIcon from '@material-ui/icons/Star';\r\nimport StarHalfIcon from '@material-ui/icons/StarHalf';\r\nimport styled from 'styled-components';\r\nimport {connect} from 'react-redux';\r\nimport {changeRatingAction} from '../../actions/reviewRatingActions';\r\nimport axios from 'axios';\r\nimport {MediaType} from '../../constants/dataTypes';\r\n\r\ninterface StarRaterProps {\r\n    readonly: boolean\r\n\r\n    // required if readonly === true\r\n    readOnlyRating?: number;\r\n    hideReadOnlyLabel?: boolean;\r\n\r\n    // required if readonly === false\r\n    userRating?: number;\r\n    userId?: string;\r\n    userName?: string;\r\n    userHasReviewText?: boolean;\r\n    mediaId?: string;\r\n    mediaType?: MediaType;\r\n}\r\n\r\nconst StyledIconButton = styled(IconButton)`\r\n    padding: 0px !important;\r\n`;\r\n\r\nconst VerticallyCenteredDiv = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst host = window.location.protocol + '//'+ window.location.host;\r\n\r\nconst getIcon = (index: number, rating: number | undefined) => {\r\n    const twoDecimalString = rating?.toFixed(2) || '0.00';\r\n    const [wholeNumberString, decimalString] = twoDecimalString.split('.');\r\n    const wholeNumber = parseInt(wholeNumberString);\r\n    const decimalTimes100 = parseInt(decimalString);\r\n    if ((index + 1) <= wholeNumber) {\r\n        return <StarIcon style={{fill: '#FFCC00'}} fontSize={'small'}/>;\r\n    } else if (index === wholeNumber) {\r\n        const closestFifty = Math.round(decimalTimes100 / 50)*50;\r\n        if (closestFifty === 0) {\r\n            return <StarBorderIcon style={{fill: '#FFCC00'}} fontSize={'small'}/>;\r\n        } else if (closestFifty === 50) {\r\n            return <StarHalfIcon style={{fill: '#FFCC00'}} fontSize={'small'}/>;\r\n        } else if (closestFifty === 100) {\r\n            return <StarIcon style={{fill: '#FFCC00'}} fontSize={'small'}/>;\r\n        }\r\n    } else {\r\n        return <StarBorderIcon style={{fill: '#FFCC00'}} fontSize={'small'}/>;\r\n    }\r\n};\r\n\r\n// NOTE: console logs are commented out but kept in code to aid future development & debugging\r\nconst changeRating = (props: any, userId: string, userName: string, rating: number | undefined) => {\r\n    props.changeRatingAction({ userId, userName, rating });\r\n    if (!rating && !props.userHasReviewText) {\r\n        axios.delete(host + `/reviewRatings`\r\n            + `/${props.mediaType}/${props.mediaId}/${userId}`)\r\n            .then((res: any) => {\r\n                // console.log('Successfully deleted the reviewRating', res);\r\n            })\r\n            .catch((err: any) => {\r\n                // console.log(err);\r\n            });\r\n    } else {\r\n        axios.put(host + '/reviewRatings/rating',\r\n            {\r\n                mediaId: props.mediaId,\r\n                mediaType: props.mediaType,\r\n                userId: userId,\r\n                rating: rating\r\n            })\r\n            .then((res: any) => {\r\n                // console.log('Successfully put the rating: ', res);\r\n            })\r\n            .catch((err: any) => {\r\n                // console.log(err);\r\n            });\r\n    }\r\n};\r\n\r\nconst StarRater: React.FC<StarRaterProps> = (props: StarRaterProps) => {\r\n    const [ratedStar, setStar] = useState(0);\r\n    const { readonly, readOnlyRating, hideReadOnlyLabel, userRating, userId, userName } = props;\r\n    let twoDecimalRatingString = ''; // TODO set up tooltip functionality\r\n    if (readonly && readOnlyRating) {\r\n        twoDecimalRatingString = readOnlyRating.toFixed(2);\r\n    } else if (userRating) {\r\n        twoDecimalRatingString = userRating.toFixed(2);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!ratedStar) {\r\n            setStar(userRating || 0);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [userRating]);\r\n\r\n    function clickStar(starIndex: number) {\r\n        const ratingToSet = ratedStar === starIndex ? starIndex - 1 : starIndex;\r\n        setStar(ratingToSet);\r\n        userId && userName && changeRating(props, userId, userName, ratingToSet);\r\n        // TODO use the api to set the rating (add the media type and media id as props)\r\n    }\r\n\r\n    return (\r\n        <Box display='flex'>\r\n            {[...Array(5)].map((star, index) => {\r\n                return (\r\n                    <VerticallyCenteredDiv key={index}>\r\n                        {readonly ?\r\n                            <>\r\n                                {\r\n                                    getIcon(index, readOnlyRating)\r\n                                }\r\n                            </>\r\n                            :\r\n                            <StyledIconButton size={'small'} onClick={() => clickStar(index + 1)}>\r\n                                {index < ratedStar ?\r\n                                    <StarIcon style={{fill: '#FFCC00'}} />\r\n                                    :\r\n                                    <StarBorderIcon style={{fill: '#FFCC00'}} />\r\n                                }\r\n                            </StyledIconButton>\r\n                        }\r\n                    </VerticallyCenteredDiv>\r\n                );\r\n            })}\r\n            <Box ml={1}>{readonly && !hideReadOnlyLabel && twoDecimalRatingString}</Box>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default connect(null, { changeRatingAction })(StarRater);\r\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import React, {useEffect, useState} from 'react';\r\nimport {\r\n    Box,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Grid,\r\n    useMediaQuery,\r\n    Typography,\r\n    IconButton\r\n} from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport { Button } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {CardData, MediaType, SingleQueryType} from '../../constants/dataTypes';\r\nimport Interweave from 'interweave';\r\nimport TagsSection from '../TagsSection';\r\nimport axios from 'axios';\r\nimport StarRater from '../StarRater';\r\n\r\ninterface MediaModalProps {\r\n    isOpen: boolean,\r\n    modalData: CardData,\r\n    setModalOpen: (open: boolean) => void\r\n}\r\n\r\nconst StyledButton = styled(Button)`\r\n    margin-right: 10px;\r\n    background: none;\r\n    border: none;\r\n    color: ${({ theme }) => theme.palette.grey[600]};\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n\r\n    &:hover {\r\n        color: ${({ theme }) => theme.palette.grey[900]};\r\n    }\r\n`;\r\n\r\nconst StyledCloseIcon = styled(CloseIcon)`\r\n    color: white;\r\n    &:hover {\r\n        color: grey;\r\n    }\r\n`;\r\n\r\nconst StyledDialogTitle = styled(DialogTitle)`\r\n    background-color: ${({ theme }) => theme.palette.primary.main};\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    &.MuiDialogTitle-root {\r\n        margin-bottom: 10px;\r\n        height: 25px;\r\n    }\r\n`;\r\n\r\nconst StyledImage = styled.img`\r\n    width: 100%;\r\n`;\r\n\r\nconst StyledDialogActions = styled(DialogActions)`\r\n    &.MuiDialogActions-root {\r\n        box-shadow: 10px 10px 5px grey;\r\n    }\r\n`;\r\n\r\n// NOTE: console logs are commented out but kept in code to aid future development & debugging\r\nconst MediaModal: React.FC<MediaModalProps> = (props: MediaModalProps) => {\r\n    const { isOpen, modalData, setModalOpen } = props;\r\n    const history = useHistory();\r\n\r\n    const [storyTags, setStoryTags] = useState([]);\r\n    const [averageRating, setAverageRating] = useState(0);\r\n\r\n    const isSmall = useMediaQuery('(max-width:450px)');\r\n    const isShort = useMediaQuery('(max-height:500px)');\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            const { id, mediaType } = modalData;\r\n            const mediaRouteType = mediaType === MediaType.book ? 'books' : 'movies';\r\n            axios.get(`/${mediaRouteType}/tags/${id}`)\r\n                .then((mediaRes: any) => {\r\n                    const mediaData = mediaRes.data;\r\n                    setStoryTags(mediaData.nextStoryTags);\r\n                })\r\n                .catch((error: any) => {\r\n                    // console.log('Error getting media', error);\r\n                });\r\n        }\r\n    }, [modalData, isOpen]);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            const { id, mediaType } = modalData;\r\n            axios.get(`/reviewRatings/averageRating/${mediaType}/${id}`)\r\n                .then((mediaRes: any) => {\r\n                    const averageRatingData = mediaRes.data;\r\n                    setAverageRating(averageRatingData.average);\r\n                })\r\n                .catch((error: any) => {\r\n                    // console.log('Error getting media', error);\r\n                });\r\n        }\r\n    }, [modalData, isOpen]);\r\n\r\n    function goToPage() {\r\n        const { id, mediaType } = modalData;\r\n        history.push(`/${mediaType}/${id}`);\r\n        setModalOpen(false);\r\n    }\r\n\r\n    return (\r\n        <Dialog\r\n            scroll={'paper'}\r\n            open={isOpen}\r\n            onClose={() => setModalOpen(false)}\r\n            fullScreen={isSmall || isShort}\r\n        >\r\n            <StyledDialogTitle disableTypography>\r\n                <IconButton onClick={() => setModalOpen(false)}>\r\n                    <StyledCloseIcon />\r\n                </IconButton>\r\n            </StyledDialogTitle>\r\n            <DialogContent>\r\n                <Grid container direction={'column'} spacing={2}>\r\n                    <Grid container direction={'row'} spacing={2}>\r\n                        <Grid item sm={4} style={{ width: '100%' }}>\r\n                            <Box display={'flex'} justifyContent={'center'} alignItems={'center'} >\r\n                                <StyledImage src={modalData?.image}/>\r\n                            </Box>\r\n                        </Grid>\r\n                        <Grid item sm={8}>\r\n                            <Typography variant='h3' gutterBottom>\r\n                                {modalData?.title} {modalData?.mediaType === MediaType.movie ? '(Movie)' : '(Book)'}\r\n                            </Typography>\r\n                            <Typography variant='subtitle2' >\r\n                                Avg members rating: {!averageRating && 'No rating'}\r\n                            </Typography>\r\n                            {averageRating > 0 && <StarRater readOnlyRating={averageRating} readonly />}\r\n                            Genres:\r\n                            <TagsSection\r\n                                tags={modalData?.genres || []}\r\n                                singleQueryType={SingleQueryType.genre}\r\n                            />\r\n                            {storyTags.length > 0 &&\r\n                                <>\r\n                                    Tags:\r\n                                    <TagsSection\r\n                                        tagObjects={storyTags || []}\r\n                                        singleQueryType={SingleQueryType.tag}\r\n                                    />\r\n                                </>\r\n                            }\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid item sm={12}>\r\n                        <Interweave content={modalData?.blurb || ''} />\r\n                    </Grid>\r\n                </Grid>\r\n            </DialogContent>\r\n            <Box boxShadow={3}>\r\n                <StyledDialogActions>\r\n                        <StyledButton\r\n                            endIcon={<ArrowForwardIcon />}\r\n                            onClick={() => goToPage()}\r\n                        >\r\n                            Go to page\r\n                        </StyledButton>\r\n                </StyledDialogActions>\r\n            </Box>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default MediaModal;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Card } from '@material-ui/core';\r\nimport { CardData } from '../../constants/dataTypes';\r\nimport MediaModal from '../MediaModal';\r\n\r\nconst CardContainer = styled(Card)`\r\n    height: 250px;\r\n    width: 175px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: space-between;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst MediaImage = styled.img`\r\n    height: 100%;\r\n    max-width: 100%;\r\n    cursor: pointer;\r\n    &:hover {\r\n        opacity: 50%;\r\n    }\r\n`;\r\n\r\ninterface MediaCardProps {\r\n    cardData: CardData\r\n}\r\n\r\nconst MediaCard: React.FC<MediaCardProps> = (props: MediaCardProps) => {\r\n    const { image } = props.cardData;\r\n    const [isMediaModalOpen, setMediaModalOpen] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            <MediaModal isOpen={isMediaModalOpen} setModalOpen={() => setMediaModalOpen(false)} modalData={props.cardData} />\r\n            <CardContainer elevation={1}>\r\n                <MediaImage src={image} onClick={() => setMediaModalOpen(true)} />\r\n            </CardContainer>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default MediaCard;\r\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z\"\n}), 'AccountBox');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport { useFormControl } from '../FormControl';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -11,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -11\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(props, ref) {\n  var checked = props.checked,\n      classes = props.classes,\n      className = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"]);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: clsx(classes.root, className, labelPlacement !== 'end' && classes[\"labelPlacement\".concat(capitalize(labelPlacement))], disabled && classes.disabled),\n    ref: ref\n  }, other), /*#__PURE__*/React.cloneElement(control, controlProps), /*#__PURE__*/React.createElement(Typography, {\n    component: \"span\",\n    className: clsx(classes.label, disabled && classes.disabled)\n  }, label));\n});\nprocess.env.NODE_ENV !== \"production\" ? FormControlLabel.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component appears selected.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * A control element. For instance, it can be be a `Radio`, a `Switch` or a `Checkbox`.\n   */\n  control: PropTypes.element.isRequired,\n\n  /**\n   * If `true`, the control will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * The text to be used in an enclosing label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * The position of the label.\n   */\n  labelPlacement: PropTypes.oneOf(['bottom', 'end', 'start', 'top']),\n\n  /**\n   * @ignore\n   */\n  name: PropTypes.string,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The value of the component.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormControlLabel'\n})(FormControlLabel);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"\n}), 'InsertPhoto');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M10 17l5-5-5-5v10z\"\n}), 'ArrowRight');\n\nexports.default = _default;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'Person');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Person from '../internal/svg-icons/Person';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexShrink: 0,\n      width: 40,\n      height: 40,\n      fontFamily: theme.typography.fontFamily,\n      fontSize: theme.typography.pxToRem(20),\n      lineHeight: 1,\n      borderRadius: '50%',\n      overflow: 'hidden',\n      userSelect: 'none'\n    },\n\n    /* Styles applied to the root element if not `src` or `srcSet`. */\n    colorDefault: {\n      color: theme.palette.background.default,\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[600]\n    },\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {},\n\n    /* Styles applied to the root element if `variant=\"rounded\"`. */\n    rounded: {\n      borderRadius: theme.shape.borderRadius\n    },\n\n    /* Styles applied to the root element if `variant=\"square\"`. */\n    square: {\n      borderRadius: 0\n    },\n\n    /* Styles applied to the img element if either `src` or `srcSet` is defined. */\n    img: {\n      width: '100%',\n      height: '100%',\n      textAlign: 'center',\n      // Handle non-square image. The property isn't supported by IE 11.\n      objectFit: 'cover',\n      // Hide alt text.\n      color: 'transparent',\n      // Hide the image broken icon, only works on Chrome.\n      textIndent: 10000\n    },\n\n    /* Styles applied to the fallback icon */\n    fallback: {\n      width: '75%',\n      height: '75%'\n    }\n  };\n};\n\nfunction useLoaded(_ref) {\n  var src = _ref.src,\n      srcSet = _ref.srcSet;\n\n  var _React$useState = React.useState(false),\n      loaded = _React$useState[0],\n      setLoaded = _React$useState[1];\n\n  React.useEffect(function () {\n    if (!src && !srcSet) {\n      return undefined;\n    }\n\n    setLoaded(false);\n    var active = true;\n    var image = new Image();\n    image.src = src;\n    image.srcSet = srcSet;\n\n    image.onload = function () {\n      if (!active) {\n        return;\n      }\n\n      setLoaded('loaded');\n    };\n\n    image.onerror = function () {\n      if (!active) {\n        return;\n      }\n\n      setLoaded('error');\n    };\n\n    return function () {\n      active = false;\n    };\n  }, [src, srcSet]);\n  return loaded;\n}\n\nvar Avatar = /*#__PURE__*/React.forwardRef(function Avatar(props, ref) {\n  var alt = props.alt,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      imgProps = props.imgProps,\n      sizes = props.sizes,\n      src = props.src,\n      srcSet = props.srcSet,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'circle' : _props$variant,\n      other = _objectWithoutProperties(props, [\"alt\", \"children\", \"classes\", \"className\", \"component\", \"imgProps\", \"sizes\", \"src\", \"srcSet\", \"variant\"]);\n\n  var children = null; // Use a hook instead of onError on the img element to support server-side rendering.\n\n  var loaded = useLoaded({\n    src: src,\n    srcSet: srcSet\n  });\n  var hasImg = src || srcSet;\n  var hasImgNotFailing = hasImg && loaded !== 'error';\n\n  if (hasImgNotFailing) {\n    children = /*#__PURE__*/React.createElement(\"img\", _extends({\n      alt: alt,\n      src: src,\n      srcSet: srcSet,\n      sizes: sizes,\n      className: classes.img\n    }, imgProps));\n  } else if (childrenProp != null) {\n    children = childrenProp;\n  } else if (hasImg && alt) {\n    children = alt[0];\n  } else {\n    children = /*#__PURE__*/React.createElement(Person, {\n      className: classes.fallback\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, classes.system, classes[variant], className, !hasImgNotFailing && classes.colorDefault),\n    ref: ref\n  }, other), children);\n});\nprocess.env.NODE_ENV !== \"production\" ? Avatar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Used in combination with `src` or `srcSet` to\n   * provide an alt attribute for the rendered `img` element.\n   */\n  alt: PropTypes.string,\n\n  /**\n   * Used to render icon or text elements inside the Avatar if `src` is not set.\n   * This can be an element, or just a string.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Attributes applied to the `img` element if the component is used to display an image.\n   * It can be used to listen for the loading error event.\n   */\n  imgProps: PropTypes.object,\n\n  /**\n   * The `sizes` attribute for the `img` element.\n   */\n  sizes: PropTypes.string,\n\n  /**\n   * The `src` attribute for the `img` element.\n   */\n  src: PropTypes.string,\n\n  /**\n   * The `srcSet` attribute for the `img` element.\n   * Use this attribute for responsive image display.\n   */\n  srcSet: PropTypes.string,\n\n  /**\n   * The shape of the avatar.\n   */\n  variant: PropTypes.oneOf(['circle', 'rounded', 'square'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAvatar'\n})(Avatar);","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\n\r\nconst StyledAvatar = styled(Avatar)`\r\n  &.MuiAvatar-root {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nconst ProfilePicPlaceholder = styled(AccountBoxIcon)`\r\n  &.MuiSvgIcon-root {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\ninterface ProfilePhotoDisplayProps {\r\n  avatar: string;\r\n}\r\n\r\nconst ProfilePhotoDisplay: React.FC<ProfilePhotoDisplayProps> = ({ avatar }) => {\r\n  return (\r\n    <div>\r\n      {avatar\r\n        ? <StyledAvatar variant='square'><img alt='profile' src={avatar} width='100%'/></StyledAvatar>\r\n        : <ProfilePicPlaceholder color='disabled' fontSize='large'/>\r\n      }\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePhotoDisplay;\r\n","import React, { useState, useEffect } from 'react';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InsertPhoto from '@material-ui/icons/InsertPhoto';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport styled from 'styled-components';\r\nimport { updateProfile } from '../../actions/profileActions';\r\nimport { ProfileState } from '../../constants/profileActionTypes';\r\nimport ProfilePhotoDisplay from '../ProfilePhotoDisplay';\r\n\r\nconst StyledDialogTitle = styled(DialogTitle)`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  background-color: #3f51b5;\r\n`;\r\n\r\nconst StyledContrastText = styled(Typography)`\r\n  color: #ffffff;\r\n`;\r\n\r\nconst CloseButton = styled(IconButton)`\r\n  &.MuiButtonBase-root {\r\n    position: absolute;\r\n    color: #ffffff;\r\n  }\r\n  right: 5px;\r\n`;\r\n\r\nconst PhotoContainer = styled.div`\r\n  width: 150px;\r\n  &>:first-child {\r\n    border: solid 1px #D3D3D3;\r\n    height: 150px;\r\n    margin-bottom: 10px;\r\n  }\r\n  margin: 0 auto 10px auto;\r\n`;\r\n\r\nconst InputLabel = styled(FormControlLabel)`\r\n  &.MuiFormControlLabel-root {\r\n    align-items: flex-start;\r\n    margin-left: 0;\r\n    margin-right: 0;\r\n  }\r\n  & > div {\r\n    min-width: 300px;\r\n  }\r\n`;\r\n\r\nconst HiddenFileInput = styled.input`\r\n  display: none;\r\n`;\r\n\r\ninterface EditProfileModalProps {\r\n  aboutMe: string;\r\n  id: string;\r\n  isOpen: boolean;\r\n  photo: string;\r\n  handleClose: () => void;\r\n  updateProfile: (profileData: Partial<ProfileState>) => void;\r\n}\r\n\r\nconst IMG_RATIO = 1;\r\n\r\n// NOTE: console logs are commented out but kept in code to aid future development & debugging\r\nconst EditProfileModal: React.FC<EditProfileModalProps> = ({ aboutMe = '', photo, isOpen, id, handleClose, updateProfile }) => {\r\n  const host = window.location.protocol + '//'+ window.location.host;\r\n\r\n  const [aboutMeText, setAboutMeText] = useState(aboutMe);\r\n  const [avatarSrc, setAvatarSrc] = useState(photo);\r\n  const [fileError, setFileError] = useState('');\r\n\r\n  const changeAboutMe = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setAboutMeText(e.target.value);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    handleCancelChange();\r\n    handleClose();\r\n  };\r\n\r\n  const handleCancelChange = () => {\r\n    setFileError('');\r\n    setAvatarSrc(photo);\r\n    setAboutMeText(aboutMe);\r\n  };\r\n\r\n  const handlePhotoChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file= e.target.files?.[0];\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (e: ProgressEvent<FileReader>) => {\r\n      const inputImg = new Image();\r\n      inputImg.onload = () => {\r\n        const canvas = document.createElement('canvas');\r\n\r\n        const inputImgWidth = inputImg.naturalWidth;\r\n        const inputImgHeight = inputImg.naturalHeight;\r\n        const imgRatio = inputImgWidth/inputImgHeight;\r\n\r\n        let drawWidth = inputImgWidth;\r\n        let drawHeight = inputImgHeight;\r\n\r\n        if (imgRatio > IMG_RATIO) {\r\n          drawWidth = inputImgHeight * IMG_RATIO;\r\n        } else {\r\n          drawHeight = inputImgWidth/IMG_RATIO;\r\n        }\r\n\r\n        const dx = Math.round((drawWidth - inputImgWidth)/2);\r\n        const dy = Math.round((drawHeight - inputImgHeight)/2);\r\n\r\n        canvas.width = drawWidth;\r\n        canvas.height = drawHeight;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        ctx?.drawImage(inputImg, dx, dy);\r\n        const dataurl = canvas.toDataURL('image/jpeg');\r\n        setAvatarSrc(dataurl);\r\n      };\r\n      inputImg.src = (e?.target?.result || '') as string;\r\n    };\r\n    if (file){\r\n      const fileSize = parseFloat(((file.size/1024)/1024)?.toFixed(4)); // to MB\r\n      if (fileSize > 8) {\r\n        setFileError('File size exceeds 8Mb');\r\n      } else {\r\n        reader.readAsDataURL(file);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!fileError) {\r\n      try {\r\n        const response = await axios.put(`${host}/users/edit/${id}`, { message: aboutMeText, avatar: avatarSrc });\r\n        updateProfile(response.data);\r\n        handleClose();\r\n      } catch (error) {\r\n        // console.error('error submitting the updated profile: ', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setAboutMeText(aboutMe);\r\n  }, [aboutMe]);\r\n\r\n  useEffect(() => {\r\n    setAvatarSrc(photo);\r\n  }, [photo]);\r\n\r\n  return (\r\n    <Dialog open={isOpen} onClose={closeModal}>\r\n      <StyledDialogTitle disableTypography >\r\n        <StyledContrastText variant='h4'>Edit Profile</StyledContrastText>\r\n        <CloseButton onClick={closeModal}>\r\n          <CloseIcon />\r\n        </CloseButton>\r\n      </StyledDialogTitle>\r\n      <DialogContent dividers>\r\n        <form onSubmit={(e) => handleSubmit(e)}>\r\n          <PhotoContainer>\r\n            <ProfilePhotoDisplay avatar={avatarSrc}/>\r\n            <HiddenFileInput accept='.png, .jpg, .jpeg' id='upload-file-input' type='file' onChange={handlePhotoChange}/>\r\n            <label htmlFor='upload-file-input'>\r\n              <Button component='span' startIcon={<InsertPhoto />} variant='contained'>Upload</Button>\r\n            </label>\r\n            {fileError && <Typography variant='subtitle2' color='error'>{fileError}</Typography>}\r\n          </PhotoContainer>\r\n          <InputLabel\r\n            control={<OutlinedInput multiline rows={4} value={aboutMeText} onChange={changeAboutMe}/>}\r\n            label='About Me'\r\n            labelPlacement='top'\r\n          />\r\n          <DialogActions>\r\n            <Button variant='contained' onClick={handleCancelChange}>Cancel</Button>\r\n            <Button color='primary' variant='contained' type='submit'>Submit</Button>\r\n          </DialogActions>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>);\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    aboutMe: state.profile?.message,\r\n    photo: state.profile?.avatar,\r\n    id: state.profile?._id\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n  return {\r\n    updateProfile: (updatedData: Partial<ProfileState>) => dispatch(updateProfile(updatedData))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditProfileModal);\r\n","import { ProfileState, SET_PROFILE, UPDATE_PROFILE } from '../constants/profileActionTypes';\r\n\r\nexport const setProfile = (profile: ProfileState) => {\r\n  return {\r\n    type: SET_PROFILE,\r\n    profile\r\n  };\r\n};\r\n\r\nexport const updateProfile = (data: Partial<ProfileState>) => {\r\n  return {\r\n    type: UPDATE_PROFILE,\r\n    data\r\n  };\r\n};\r\n","import Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledDialogTitle = styled(DialogTitle)`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  background-color: #3f51b5;\r\n`;\r\n\r\nconst StyledContrastText = styled(Typography)`\r\n  color: #ffffff;\r\n`;\r\n\r\nconst CloseButton = styled(IconButton)`\r\n  &.MuiButtonBase-root {\r\n    position: absolute;\r\n    color: #ffffff;\r\n  }\r\n  right: 5px;\r\n`;\r\n\r\ninterface DeleteAccountModalProps {\r\n  isOpen: boolean;\r\n  userId: string;\r\n  handleClose: () => void;\r\n}\r\n\r\n// NOTE: console logs are commented out but kept in code to aid future development & debugging\r\nconst DeleteAccountModal: React.FC<DeleteAccountModalProps> = ({ isOpen, handleClose, userId }) => {\r\n  const history = useHistory();\r\n  const host = window.location.protocol + '//'+ window.location.host;\r\n\r\n  const handleDeleteAccount = async () => {\r\n    try {\r\n      const response = await axios.delete(`${host}/users/${userId}`);\r\n      if (response.data.ok === 0) {\r\n        throw new Error('0 profile deleted');\r\n      }\r\n      sessionStorage.clear();\r\n      history.go(0);\r\n    } catch (error) {\r\n      // console.error('Error deleting account: ', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onClose={handleClose}>\r\n      <StyledDialogTitle disableTypography>\r\n        <StyledContrastText variant='h4'>Edit Profile</StyledContrastText>\r\n          <CloseButton onClick={handleClose}>\r\n            <CloseIcon />\r\n          </CloseButton>\r\n      </StyledDialogTitle>\r\n      <DialogContent dividers>\r\n        <div>\r\n          <Typography variant='body1'>\r\n            Deleting an account is an irreversible action. Once you delete your account, we will not be able to restore you account information. Do you wish to proceed?\r\n          </Typography>\r\n        </div>\r\n        <DialogActions>\r\n            <Button variant='contained' onClick={handleDeleteAccount}>Yes</Button>\r\n            <Button color='primary' variant='contained' onClick={handleClose}>No</Button>\r\n        </DialogActions>\r\n      </DialogContent>\r\n    </Dialog>);\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    userId: state.profile.userId\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(DeleteAccountModal);\r\n","import styled from 'styled-components';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport React, { useState } from 'react';\r\nimport { ProfileState } from '../../constants/profileActionTypes';\r\nimport EditProfileModal from '../EditProfileModal';\r\nimport ProfilePhotoDisplay from '../ProfilePhotoDisplay';\r\nimport Button from '@material-ui/core/Button';\r\nimport DeleteAccountModal from '../DeleteAccountModal';\r\n\r\nconst UserInfoContainer = styled.div`\r\n  flex: 0 1 auto;\r\n  min-width: 300px;\r\n  & > * {\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nconst PhotoContainer = styled.div`\r\n  width: 150px;\r\n  &>:first-child {\r\n    border: solid 1px #D3D3D3;\r\n    height: 150px;\r\n  }\r\n`;\r\n\r\nconst StyledSectionHeader = styled(Typography)`\r\n  &.MuiTypography-body1 {\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nconst ActionDiv = styled.div`\r\n  cursor: pointer;\r\n  :hover {\r\n    & .MuiTypography-root {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`;\r\n\r\nconst UserInfo: React.FC<UserInfoProps> = ({ avatar, about, email, booksCount, moviesCount, name }) => {\r\n  const [modalOpen, setModalOpen] = useState({ editProfile: false, deleteAccount: false });\r\n  const openProfileModal = () => setModalOpen({ ...modalOpen, editProfile: true });\r\n  const closeProfileModal = () => setModalOpen({ ...modalOpen, editProfile: false });\r\n  const openDeleteAccountModal = () => setModalOpen({ ...modalOpen, deleteAccount: true });\r\n  const closeDeleteAccountModal = () => setModalOpen({ ...modalOpen, deleteAccount: false });\r\n  return (\r\n    <UserInfoContainer id='userinfo'>\r\n      <EditProfileModal isOpen={modalOpen.editProfile} handleClose={closeProfileModal}/>\r\n      <DeleteAccountModal isOpen={modalOpen.deleteAccount} handleClose={closeDeleteAccountModal}/>\r\n      <PhotoContainer>\r\n        <ProfilePhotoDisplay avatar={avatar}/>\r\n        <ActionDiv onClick={openProfileModal}><Typography align='center' color='secondary' variant='body1'>Edit Profile</Typography></ActionDiv>\r\n      </PhotoContainer>\r\n      <div>\r\n        <Typography variant='body2'>{`User Name: ${name}`}</Typography>\r\n        <Typography variant='body2'>{`Books Read: ${booksCount}`}</Typography>\r\n        <Typography variant='body2'>{`Movies Watched: ${moviesCount}`}</Typography>\r\n      </div>\r\n      <div>\r\n        <StyledSectionHeader>About Me</StyledSectionHeader>\r\n        <Typography variant='body2'>\r\n          {about}\r\n        </Typography>\r\n      </div>\r\n      <div>\r\n        <StyledSectionHeader>Contact</StyledSectionHeader>\r\n        <Typography variant='body2'>{email}</Typography>\r\n      </div>\r\n      <Button variant='contained' onClick={openDeleteAccountModal}>Delete Account</Button>\r\n    </UserInfoContainer>\r\n  );\r\n};\r\n\r\ninterface UserInfoProps {\r\n  about: string;\r\n  avatar: string;\r\n  booksCount: number;\r\n  email: string;\r\n  moviesCount: number;\r\n  name: string;\r\n  profile?: ProfileState;\r\n}\r\n\r\nexport default UserInfo;\r\n","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ArrowRight from '@material-ui/icons/ArrowRight';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport styled from 'styled-components';\r\n\r\nconst GridContainer = styled(Grid)`\r\n  &.MuiGrid-container {\r\n    flex-wrap: nowrap;\r\n  }\r\n`;\r\n\r\nconst StyledInput = styled(OutlinedInput)`\r\n  &.MuiOutlinedInput-root {\r\n    border-radius: 4px 0 0 4px;\r\n  }\r\n`;\r\n\r\nconst StyledGrid = styled(Grid)`\r\n  border: 1px solid rgba(0, 0, 0, 0.23);\r\n  border-left: none;\r\n  border-radius: 0 4px 4px 0;\r\n  :hover{\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledDiv = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  height: 100%;\r\n`;\r\n\r\nconst SearchBar: React.FC = () => {\r\n  return(\r\n    <div>\r\n      <GridContainer container spacing={0} alignItems='stretch'>\r\n        <Grid item>\r\n          <StyledInput name='search' type='search' placeholder='Search' />\r\n        </Grid>\r\n        <StyledGrid item>\r\n          <StyledDiv><ArrowRight fontSize='large'/></StyledDiv>\r\n        </StyledGrid>\r\n      </GridContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import MuiSelect from '@material-ui/core/Select';\r\nimport React from 'react';\r\n\r\nconst Select: React.FC = () => {\r\n\r\n  return (\r\n    <MuiSelect variant='outlined' native>\r\n      {/* Placeholder options -- to be replaced with real data once we have them */}\r\n      <option value={1}>Option 1</option>\r\n      <option value={2}>Option 2</option>\r\n    </MuiSelect>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import Typography from '@material-ui/core/Typography';\r\nimport React, {useEffect, useState} from 'react';\r\nimport Carousel from 'react-multi-carousel';\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport MediaCard from '../MediaCard';\r\nimport styled from 'styled-components';\r\nimport SearchBar from '../SearchBar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Select from '../Select';\r\nimport { CardData, MediaType } from '../../constants/dataTypes';\r\nimport { connect } from 'react-redux';\r\nimport { CombinedMoviesBooksInfo } from '../../constants/BooksMoviesActionTypes';\r\nimport axios from 'axios';\r\n\r\nconst StyledCarousel = styled(Carousel)`\r\n  margin-top: 20px;\r\n`;\r\n\r\ninterface RegWidthCarouselProps {\r\n  bookIds?: string[];\r\n  bMSource: 'favorite' | 'read' | 'later';\r\n  movieIds?: string[];\r\n  title?: string;\r\n  withSearchSelect?: boolean;\r\n  updateMethod: (booksMovies: CombinedMoviesBooksInfo) => void;\r\n}\r\n\r\nconst SearchSelect: React.FC = () => {\r\n  return(\r\n    <Grid spacing={1} container>\r\n      <Grid item xs={6}>\r\n        <Select />\r\n      </Grid>\r\n      <Grid item xs={6}>\r\n        <SearchBar />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\n// NOTE: console logs are commented out but kept in code to aid future development & debugging\r\nconst RegWidthCarousel: React.FC<RegWidthCarouselProps> = ({ bookIds, movieIds, title, withSearchSelect, updateMethod, bMSource }) => {\r\n    const sessionDataString = sessionStorage.getItem('NS-session-data');\r\n    const sessionDataObj = sessionDataString && JSON.parse(sessionDataString);\r\n    const userId = sessionDataObj.userId;\r\n    const [mediaData, setMediaData] = useState([{    title: '',\r\n        id: '',\r\n        mediaType: MediaType.start,\r\n        image: '',\r\n        people: '',\r\n        genres: [],\r\n        nextStoryTags: [],\r\n        blurb: '',\r\n        avgRating: 0}]);\r\n\r\n    useEffect(() => {\r\n        axios.get(`/users/userLists/${userId}`)\r\n            .then((response: any) => {\r\n                const data = response.data;\r\n                let finalData: any[] = [];\r\n                if(bMSource.includes('favorite')){\r\n                    finalData.push.apply(finalData, data.favoriteMoviesDetails);\r\n                    finalData.push.apply(finalData, data.favoriteBooksDetails);\r\n                }\r\n                else if (bMSource.includes('read')) {\r\n                    finalData.push.apply(finalData, data.watchLaterDetails);\r\n                    finalData.push.apply(finalData, data.readLaterDetails);\r\n                } else if (bMSource.includes('later')){\r\n                    finalData.push.apply(finalData, data.booksReadDetails);\r\n                    finalData.push.apply(finalData, data.moviesWatchedDetails);\r\n                }\r\n                setMediaData(finalData);\r\n            })\r\n            .catch((error: any) => {\r\n              // console.log(error);\r\n            });\r\n    }, []);\r\n\r\n  const mediaCards = mediaData.map((cardData:CardData, index) => {\r\n    return <MediaCard key={index} cardData={cardData} />;\r\n  });\r\n\r\n  const cards = [...mediaCards];\r\n\r\n  return (\r\n    <>\r\n      <Typography variant='h4'>{title}</Typography>\r\n      <div>\r\n        {withSearchSelect && <SearchSelect />}\r\n      </div>\r\n      <StyledCarousel\r\n        additionalTransfrom={0}\r\n        arrows\r\n        autoPlaySpeed={3000}\r\n        draggable\r\n        infinite\r\n        keyBoardControl\r\n        minimumTouchDrag={80}\r\n        slidesToSlide={1}\r\n        swipeable\r\n        centerMode={true}\r\n        removeArrowOnDeviceType={['xmd', 'sm', 'xs']}\r\n        responsive={{\r\n          xl: {\r\n            breakpoint: {\r\n              max: 3000,\r\n              min: 1200\r\n            },\r\n            items: 2.4,\r\n            partialVisibilityGutter: 40\r\n          },\r\n          lg: {\r\n            breakpoint: {\r\n              max: 1200,\r\n              min: 960\r\n            },\r\n            items: 1.5,\r\n            partialVisibilityGutter: 20\r\n          },\r\n          md: {\r\n            breakpoint: {\r\n              max: 960,\r\n              min: 768\r\n            },\r\n            items: 2,\r\n            partialVisibilityGutter: 0\r\n          },\r\n          xmd: {\r\n            breakpoint: {\r\n              max: 768,\r\n              min: 480\r\n            },\r\n            items: 1.5,\r\n            partialVisibilityGutter: 20\r\n          },\r\n          sm: {\r\n            breakpoint: {\r\n              max: 480,\r\n              min: 0\r\n            },\r\n            items: 0.8,\r\n            partialVisibilityGutter: 50\r\n          }\r\n        }}\r\n      >\r\n        {cards}\r\n      </StyledCarousel>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect()(RegWidthCarousel);\r\n","import React from 'react';\r\nimport RegWidthCarousel from '../../components/RegWidthCarousel';\r\nimport styled from 'styled-components';\r\nimport TagsSection from '../../components/TagsSection';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {SingleQueryType, Tag, CardData} from '../../constants/dataTypes';\r\nimport {connect} from 'react-redux';\r\nimport {CombinedMoviesBooksInfo} from '../../constants/BooksMoviesActionTypes';\r\nimport {Dispatch} from 'redux';\r\nimport {updateFavorites, updateLaterList} from '../../actions/booksMoviesActions';\r\n\r\nconst StyledDiv = styled.div`\r\n  > * {\r\n    :not(:first-child) {\r\n      margin-top: 30px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SubSectionContainer = styled.div`\r\n  min-width: 350px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst RightSection: React.FC<RightSectionProps> = ({ favoriteAuthors, favoriteBooks, favoriteDirectors, favoriteGenres, favoriteMovies, favoriteNextStoryTags, readLater, watchLater, setFavorites, setLater}) => {\r\n  return (\r\n    <StyledDiv>\r\n      <>\r\n        <SubSectionContainer>\r\n          <Typography variant='h4'>Favourite Genres:</Typography>\r\n          <TagsSection tags={[...favoriteGenres]} singleQueryType={SingleQueryType.genre}/>\r\n        </SubSectionContainer>\r\n        <SubSectionContainer>\r\n          <Typography variant='h4'>Favourite Tags:</Typography>\r\n          <TagsSection tagObjects={[...favoriteNextStoryTags]} singleQueryType={SingleQueryType.tag}/>\r\n        </SubSectionContainer>\r\n        <SubSectionContainer>\r\n          <Typography variant='h4'>Favourite Authors:</Typography>\r\n          <TagsSection tags={favoriteAuthors} singleQueryType={SingleQueryType.bookPerson}/>\r\n        </SubSectionContainer>\r\n        <SubSectionContainer>\r\n          <Typography variant='h4'>Favourite Directors:</Typography>\r\n          <TagsSection tags={favoriteDirectors} singleQueryType={SingleQueryType.moviePerson}/>\r\n        </SubSectionContainer>\r\n        <SubSectionContainer>\r\n          <RegWidthCarousel bookIds={favoriteBooks} bMSource='favorite' movieIds={favoriteMovies} title='Favourite Books/Movies:' updateMethod={setFavorites}/>\r\n        </SubSectionContainer>\r\n        <SubSectionContainer>\r\n          <RegWidthCarousel bMSource='read' title={`User's Read/Watched List`} bookIds={readLater} movieIds={watchLater} updateMethod={setLater}/>\r\n        </SubSectionContainer>\r\n        <SubSectionContainer>\r\n          <RegWidthCarousel bMSource='later' title={`User's Read/Watched Later List`} bookIds={readLater} movieIds={watchLater} updateMethod={setLater}/>\r\n        </SubSectionContainer>\r\n      </>\r\n    </StyledDiv>\r\n  );\r\n};\r\n\r\ninterface RightSectionProps {\r\n  favoriteAuthors: string[];\r\n  favoriteBooks: string[];\r\n  favoriteDirectors: string[];\r\n  favoriteGenres: string[];\r\n  favoriteMovies: string[];\r\n  favoriteMoviesDetails: Array<CardData>;\r\n  favoriteBooksDetails: Array<CardData>;\r\n  booksReadDetails: Array<CardData>;\r\n  moviesWatchedDetails: Array<CardData>;\r\n  readLaterDetails: Array<CardData>;\r\n  watchLaterDetails: Array<CardData>;\r\n  favoriteNextStoryTags: Tag[];\r\n  readLater: string[];\r\n  type: string;\r\n  userId: string;\r\n  watchLater: string[];\r\n  _id: string;\r\n\r\n  setFavorites: (data: CombinedMoviesBooksInfo) => void;\r\n  setLater: (data: CombinedMoviesBooksInfo) => void;\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n  return {\r\n    setFavorites: (booksMoviesData: CombinedMoviesBooksInfo) => dispatch(updateFavorites(booksMoviesData)),\r\n    setLater: (booksMoviesData: CombinedMoviesBooksInfo) => dispatch(updateLaterList(booksMoviesData))\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(RightSection);\r\n","import { CombinedMoviesBooksInfo, UPDATE_FAVORITES, UPDATE_LATER_LIST } from '../constants/BooksMoviesActionTypes';\r\n\r\nexport const updateFavorites = (booksMovies: CombinedMoviesBooksInfo ) => {\r\n  return {\r\n    type: UPDATE_FAVORITES,\r\n    data: booksMovies\r\n  };\r\n};\r\n\r\nexport const updateLaterList = (booksMovies: CombinedMoviesBooksInfo) => {\r\n  return {\r\n    type: UPDATE_LATER_LIST,\r\n    data: booksMovies\r\n  };\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport UserInfo from '../../components/UserInfo';\r\nimport { useMediaQuery } from '@material-ui/core';\r\nimport PageContainer from '../Container';\r\nimport RightSection from './RightSection';\r\nimport Axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { setProfile } from '../../actions/profileActions';\r\nimport { Dispatch } from 'redux';\r\nimport { ProfileState } from '../../constants/profileActionTypes';\r\n\r\n// NOTE: console logs are commented out but kept in code to aid future development & debugging\r\nconst Profile: React.FC<ProfileProps> = ({ profile: { avatar, booksRead, email, message, moviesWatched, name, ...rest }, setProfile }) => {\r\n  const largeScreen = useMediaQuery('(min-width: 960px)');\r\n  const host = window.location.protocol + '//'+ window.location.host;\r\n\r\n  const fetchProfile = () => {\r\n    const sessionLogIn = sessionStorage.getItem('NS-session-data');\r\n    const userId = sessionLogIn && JSON.parse(sessionLogIn).userId;\r\n    Axios.get(`${host}/users/${userId}`)\r\n      .then((response) => {\r\n        setProfile(response.data);\r\n      })\r\n      .catch((err) => {\r\n        // console.log('Error fetching profile: ', err);\r\n      });\r\n  };\r\n\r\n  useEffect(fetchProfile, []);\r\n\r\n  return (\r\n    <PageContainer maxWidth={largeScreen ? 'lg' : 'sm'}>\r\n      <Grid container spacing={5}>\r\n        <Grid item xs={12} sm={12} md={5}>\r\n          <UserInfo about={message} avatar={avatar} booksCount={booksRead.length} email={email} moviesCount={moviesWatched.length} name={name} />\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={7}>\r\n          <RightSection {...rest}/>\r\n        </Grid>\r\n      </Grid>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\ninterface ProfileProps {\r\n  profile: ProfileState;\r\n  setProfile: (profile: ProfileState) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    profile: state.profile\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n  return {\r\n    setProfile: (profile: ProfileState) => dispatch(setProfile(profile))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n"],"sourceRoot":""}